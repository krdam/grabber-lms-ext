# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Nano Page Saver v3.0.1

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### Manifest –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **`manifest.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Chrome (–≤–µ—Ä—Å–∏—è 3.0.1, Manifest V3)
- **`README.md`** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### UI –∏ –ª–æ–≥–∏–∫–∞
- **`popup.html`** - HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å popup –æ–∫–Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- **`popup.css`** - –°—Ç–∏–ª–∏ –¥–ª—è popup
- **`popup.js`** - –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏ (18KB)
- **`background.js`** - Service Worker –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∏–¥–µ–æ)

---

## üì¶ –ú–æ–¥—É–ª–∏ (`modules/`)

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏:

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∞–º–∏
- **`download-manager.js`** (11KB) - –ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≥—Ä—É–∑–æ–∫, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã, —Å—Ç–∞—Ç—É—Å—ã
- **`hls-downloader.js`** (17KB) - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ HLS —Å–µ–≥–º–µ–Ω—Ç–æ–≤, –ø–∞—Ä—Å–∏–Ω–≥ m3u8
- **`native-merger.js`** (6.8KB) - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Native Host –¥–ª—è FFmpeg

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **`html-processor.js`** (6.9KB) - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞–∫ HTML
- **`pdf-processor.js`** (16KB) - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –≤ PDF
- **`utils.js`** (1.7KB) - –£—Ç–∏–ª–∏—Ç—ã (sanitizeFilename, formatSize, –∏ —Ç.–¥.)

### –í–∏–¥–µ–æ
- **`video-detector.js`** (7.5KB) - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤–∏–¥–µ–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **`video-recorder.js`** (5.8KB) - –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ MediaRecorder API

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **`QUICK_START.md`** (2.8KB) - **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 –º–∏–Ω—É—Ç—ã** ‚≠ê
- **`NATIVE_HOST_SETUP.md`** (7.4KB) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Native Host

### –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- **`setup_native_host.sh`** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
- **`update_extension_id.sh`** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Extension ID –≤ Native Host manifest

---

## üñºÔ∏è –†–µ—Å—É—Ä—Å—ã

### –ò–∫–æ–Ω–∫–∏ (`icons/`)
- `icon16.png`, `icon32.png`, `icon48.png`, `icon128.png`

### –ü—Ä–∏–º–µ—Ä (`example/`)
- –¢–µ—Å—Ç–æ–≤–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è PDF

---

## üîå Native Host (–≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
```
~/.local/share/chrome-native-messaging/
  ‚îú‚îÄ‚îÄ video_merger_host.py           (Python —Å–∫—Ä–∏–ø—Ç)
  ‚îî‚îÄ‚îÄ com.nanopagesaver.videomerger.json   (Manifest)

~/.config/google-chrome/NativeMessagingHosts/
  ‚îî‚îÄ‚îÄ com.nanopagesaver.videomerger.json   (–°–∏–º–ª–∏–Ω–∫)
```

### –§—É–Ω–∫—Ü–∏–∏
- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ FFmpeg
- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ (–Ω–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø–∞–º—è—Ç–∏)
- –£–¥–∞–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

---

## üîÑ Workflow

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ HTML/PDF
```
popup.js
  ‚Üí html-processor.js –∏–ª–∏ pdf-processor.js
  ‚Üí –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  ‚Üí –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (–º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
  ‚Üí –°–∫–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ chrome.downloads
```

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ HLS –≤–∏–¥–µ–æ
```
popup.js
  ‚Üí video-detector.js (–æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ)
  ‚Üí hls-downloader.js (–ø–∞—Ä—Å–∏—Ç m3u8, —Å–∫–∞—á–∏–≤–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã)
  ‚Üí download-manager.js (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å)
  ‚Üí native-merger.js (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Native Host)
  ‚Üí video_merger_host.py (FFmpeg –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç)
  ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ ~/Downloads/
```

### –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ
```
popup.js
  ‚Üí video-recorder.js (MediaRecorder API)
  ‚Üí –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç stream –∏–∑ <video> —ç–ª–µ–º–µ–Ω—Ç–∞
  ‚Üí –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ .webm
  ‚Üí –°–∫–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ chrome.downloads
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†–∞–∑–º–µ—Ä—ã
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:** ~80KB (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **–°–∞–º—ã–π –±–æ–ª—å—à–æ–π –º–æ–¥—É–ª—å:** popup.js (18KB)
- **–°–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π –º–æ–¥—É–ª—å:** hls-downloader.js (17KB)

### –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- **9 –º–æ–¥—É–ª–µ–π** - –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–π –∫–æ–¥
- **4 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞** - popup, background, manifest, README
- **2 —Å–∫—Ä–∏–ø—Ç–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üöÄ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: **3.0.1**

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ HTML/PDF —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- ‚úÖ HLS –≤–∏–¥–µ–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º
- ‚úÖ Native Host + FFmpeg –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ MediaRecorder fallback –¥–ª—è –∑–∞–ø–∏—Å–∏
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üõ†Ô∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ë—Ä–∞—É–∑–µ—Ä
- **Chrome/Edge:** >= 88 (Manifest V3)

### –í–Ω–µ—à–Ω–∏–µ
- **FFmpeg** - –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Python 3** - –¥–ª—è Native Host (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π!
- –ù–µ—Ç npm packages
- –ù–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ß–∏—Å—Ç—ã–π JavaScript (ES Modules)

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–í—Å–µ –ø—Ä–∞–≤–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é Dima. –°–æ–∑–¥–∞–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 10 –æ–∫—Ç—è–±—Ä—è 2025

