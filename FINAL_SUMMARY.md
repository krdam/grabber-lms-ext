# üéä Nano Page Saver v3.1.0 - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è!

## ‚úÖ –í–°–Å –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 3.1.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ

---

## üéØ –ß—Ç–æ —É–º–µ–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### üìÑ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
- **HTML** - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, —Å—Ç–∏–ª–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–π JavaScript
- **PDF** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–µ—Å—Ç–∞—Ö, —Ü–≤–µ—Ç–∞

### üé• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ

#### ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:
- **–ü—Ä—è–º—ã–µ —Ñ–∞–π–ª—ã** (MP4, WebM) ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- **HLS —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –∞—É–¥–∏–æ** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ FFmpeg (~35 —Å–µ–∫)

#### ‚ùå –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —É–±—Ä–∞–Ω–æ):
- ~~–ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ~~ (—Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ - 233 —Å–µ–∫)
- ~~–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±–µ–∑ –∑–≤—É–∫–∞~~ (–±–µ—Å–ø–æ–ª–µ–∑–Ω–æ)
- ~~–†—É—á–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ~~ (—Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç)

---

## üé® UI –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ú–∏–Ω–∏–∞—Ç—é—Ä—ã –≤–∏–¥–µ–æ üì∏
- **HTML5 Video**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è thumbnail (120√ó67px) —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- **Network: HLS**: –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞)

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä FFmpeg ‚öôÔ∏è
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ —Å–µ–∫—Ü–∏–∏ –≤–∏–¥–µ–æ (–Ω–µ –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏)
- –¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
  - üü† **Checking...** - –ø—Ä–æ–≤–µ—Ä–∫–∞
  - üü¢ **Ready** - —Ä–∞–±–æ—Ç–∞–µ—Ç
  - üî¥ **Not configured** - –Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ß–∏—Å—Ç—ã–π —Å–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ üßπ
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã–µ –≤–∏–¥–µ–æ
- –£–±—Ä–∞–Ω—ã —Å–µ–≥–º–µ–Ω—Ç—ã –∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
- –£–±—Ä–∞–Ω—ã –ø—Ä–æ—Å—Ç—ã–µ HLS (–±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∞—É–¥–∏–æ)

---

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ (7 –º–æ–¥—É–ª–µ–π)
```
popup.js (–≥–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç)
  ‚îú‚îÄ‚îÄ utils.js           - —É—Ç–∏–ª–∏—Ç—ã
  ‚îú‚îÄ‚îÄ download-manager.js - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∞–º–∏
  ‚îú‚îÄ‚îÄ hls-downloader.js  - HLS –æ–±—Ä–∞–±–æ—Ç–∫–∞
  ‚îú‚îÄ‚îÄ native-merger.js   - FFmpeg –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ video-detector.js  - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ + thumbnails
  ‚îú‚îÄ‚îÄ html-processor.js  - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ HTML
  ‚îî‚îÄ‚îÄ pdf-processor.js   - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF

background.js - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
```

### Native Host (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è HLS!)
```
~/.local/share/chrome-native-messaging/
  ‚îú‚îÄ‚îÄ video_merger_host.py - Python —Å–∫—Ä–∏–ø—Ç
  ‚îî‚îÄ‚îÄ com.nanopagesaver.videomerger.json - Manifest

~/.config/google-chrome/NativeMessagingHosts/
  ‚îî‚îÄ‚îÄ com.nanopagesaver.videomerger.json - –°–∏–º–ª–∏–Ω–∫
```

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
| –§–æ—Ä–º–∞—Ç | –í—Ä–µ–º—è | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ |
|--------|-------|--------------|
| HTML | ~2 —Å–µ–∫ | 500 KB - 5 MB |
| PDF | ~5 —Å–µ–∫ | 1 MB - 10 MB |

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ
| –¢–∏–ø –≤–∏–¥–µ–æ | –í—Ä–µ–º—è | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|-------|-----------|
| MP4 (–ø—Ä—è–º–æ–π) | ~10 —Å–µ–∫ | ‚úÖ –ì–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª |
| HLS (–±–µ–∑ audio) | ~30 —Å–µ–∫ | ‚úÖ –û–¥–∏–Ω .mp4 |
| **HLS (—Å audio)** | **~35 —Å–µ–∫** | **‚úÖ –û–¥–∏–Ω .mp4 —Å–æ –∑–≤—É–∫–æ–º** |

**vs. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- MediaRecorder: 233 —Å–µ–∫ üêå
- –û–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å—ã: 30+120 —Å–µ–∫ ‚è±Ô∏è
- **Native Host: 35 —Å–µ–∫** ‚ö°

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. FFmpeg (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!)
```bash
ffmpeg -version
# ‚úÖ ffmpeg version 6.1.1
```

### 2. Extension ID (2 –º–∏–Ω—É—Ç—ã)
```bash
cd /home/dima/projects/grabber-ext
./update_extension_id.sh
```

–°–∫—Ä–∏–ø—Ç:
1. –ü–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ Extension ID (–∏–∑ chrome://extensions/)
2. –û–±–Ω–æ–≤–∏—Ç manifest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –ü–æ–∫–∞–∂–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É Chrome

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Chrome
```bash
killall chrome
google-chrome &
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚úÖ FFmpeg ready - auto-merge enabled
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
- **QUICK_START.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 –º–∏–Ω—É—Ç—ã)
- **NATIVE_HOST_SETUP.md** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **README.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (16 KB)

### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É:
- **PROJECT_STRUCTURE.md** - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **FILES_LIST.md** - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- **CHANGELOG_v3.0.1.md** - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **VERSION_3.1.0_CHANGES.md** - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –°–∫—Ä–∏–ø—Ç—ã:
- **setup_native_host.sh** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg
- **update_extension_id.sh** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Extension ID

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. Native Host –≤–º–µ—Å—Ç–æ MediaRecorder
**–ü–æ—á–µ–º—É:**
- MediaRecorder –º–µ–¥–ª–µ–Ω–Ω—ã–π (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ)
- FFmpeg –±—ã—Å—Ç—Ä—ã–π (5 —Å–µ–∫—É–Ω–¥ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è)
- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π (—Ñ–∞–π–ª —Å–æ –∑–≤—É–∫–æ–º)

### 2. –û—Ç–∫–∞–∑ –æ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –±–µ–∑ –∑–≤—É–∫–∞
**–ü–æ—á–µ–º—É:**
- –ë–µ—Å–ø–æ–ª–µ–∑–Ω–æ –±–µ–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
- –†–∞–∑–¥—Ä–∞–∂–∞—é—â–∏–µ popup —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- Native Host —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é

### 3. Thumbnails —Ç–æ–ª—å–∫–æ –¥–ª—è HTML5
**–ü–æ—á–µ–º—É:**
- –£ HTML5 Video –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π `<video>` —ç–ª–µ–º–µ–Ω—Ç
- Network: HLS - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ URL (–Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞)
- –õ–æ–≥–∏—á–Ω–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ

### 4. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
**–ü–æ—á–µ–º—É:**
- –°–µ–≥–º–µ–Ω—Ç—ã –∑–∞—Å–æ—Ä—è—é—Ç UI
- –ë–µ—Å–ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Master playlist –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

---

## üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–≤ –±—É–¥—É—â–µ–º)

–ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:

1. **Batch download** - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∏–¥–µ–æ —Å—Ä–∞–∑—É
2. **Custom quality selection** - –≤—ã–±–æ—Ä –∫–∞—á–µ—Å—Ç–≤–∞ HLS –≤—Ä—É—á–Ω—É—é
3. **Progress notifications** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ
4. **Download history** - –∏—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫
5. **Settings page** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ù–æ –ø–æ–∫–∞ —á—Ç–æ –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —É–∂–µ –µ—Å—Ç—å! ‚úÖ

---

## ‚ú® –ò—Ç–æ–≥

**Nano Page Saver v3.1.0 - —ç—Ç–æ:**

‚úÖ **–ë—ã—Å—Ç—Ä–æ** - HLS –∑–∞ 35 —Å–µ–∫—É–Ω–¥  
‚úÖ **–£–¥–æ–±–Ω–æ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ  
‚úÖ **–ö—Ä–∞—Å–∏–≤–æ** - thumbnails, —á–∏—Å—Ç—ã–π UI  
‚úÖ **–ü—Ä–æ—Å—Ç–æ** - –Ω–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö –æ–ø—Ü–∏–π  
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ** - –∫–∞–∫ Video DownloadHelper  

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!** üéâ

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä FFmpeg –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å popup (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí Inspect ‚Üí Console)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏
4. –°–º. QUICK_START.md –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

**–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ

